# 월매출, 영업이익 관리 프로그램 미션
***
## 미션
***
매달 말일 24시 이전 시각을 기준으로, 각 매장의 수불 데이터를 집계한다.

매출총이익과 영업이익을 계산한 후 

각 매장의 매출총이익 , 영업이익 결과와 함께 매출총이익 순위, 영업이익 순위를 산출해 저장한다.

추가 미션) 결과값을 대표자에게 알림 메시지로 전송해보자

추가 미션) naver FixtureMonkey 오픈소스 라이브러리를 통해 랜덤한 1만개의 해당월 수불 데이터를 생성한 후, 집계 데이터를 산출해보자.

## 회계개념설명
***
1. 이번달의 기초재고액, 당기매입액, 매출원가를 집계해서 기말재고액을 산출한다.
2. 기초재고액은 전달의 기말재고액이다
3. 당기매입액은 해당월에 일어난 수불유형이 "입고"인 수불 데이터의 자재구매단가 * 수량 값을 모두 더한 값이다.
4. 매출원가는 해당월에 일어난 수불유형이 "출고"이고 이동유형이 "매장판매"인  수불 데이터의  자재구매단가 * 수량 값을 모두 더한 값이다.
5. 기말재고액은 기초재고액 + 당기매입액 - 매출원가로 계산한다
6. 매출액은 해당월에 일어난 수불유형이 "출고"이고 이동유형이 "매장판매"인  수불 데이터의  자재판매단가 * 수량 값을 모두 더한 값이다.
7. 매출총이익은 매출액 - 매출원가 이다.
8. 판매관리비는 해당월에 일어난 수불유형이 "출고"이고 이동유형이 "급여, 접대비, 광고비, 포장비"인 수불 데이터의  자재구매단가 * 수량 값을 모두 더한 값이다.
9. 영업이익은 매출총이익 - 판매관리비 이다


기초재고액(전달에 안팔리고 남은 것 * 구매단가) + 당기매입액(새롭게 입고된 것 * 구매단가) = 매출원가(판매된 상품 * 구매단가) + 기말재고액(이번달에 안 팔리고 남은 것 * 구매단가)

## 용어설명
***
- 플랜트 : 물류가 이동하는 거점을 의미. (물류센터 or 구매처 or 매장)
- 매장 : 플랜트 하나에 매핑됨. 매장은 매장의 대표자를 보유
- 월결산테이블 : 매월 말일 수불을 집계한 재고 데이터를 저장
  - (년월, 기초재고액, 당기매입액, 매출원가, 기말재고액, 판매관리비 존재)
- 수불 : 물건과 수량의 이동을 의미. 어떤 물건이 어디로 몇개 무슨 목적으로 이동했는지. 한 플랜트에서 입고가 10개 발생했다면, 다른 플랜트에서 출고가 10개 발생해야함
  - (수불유형,이동유형,플랜트,상대플랜트,자재(편의상 한 수불에 한 자재만 이동한다고 가정), 수량, 수불일및시각 존재
- 수불유형 : 입/출고 존재
- 이동유형 : 입고(매장발주), 출고(매장판매, 급여) 존재
- 판매관리비 : 판매 외 목적으로 사용한 돈
  - 급여 (직원, 월급) 존재
- 자재 : 자재명,구매단가,판매단가 존재
  - ex :
    - 자재구매단가  : 오현서부대찌개(1000원), 전동혁순대국(5000원), 최영훈풋고추(20원), 정현승감자탕(2000원), 전정준알배추(500원)
    - 자재판매단가 : 오현서부대찌개(2000원), 전동혁순대국(15000원), 최영훈풋고추(30원), 정현승감자탕(12000원), 전정준알배추(5000원)